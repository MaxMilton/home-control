<Nav/>

<main class="con">
  <svelte:component this="{route}"/>
</main>

<footer class="footer tc">
  Â© <a href="https://maxmilton.com" class="inherit">Max Milton</a>
</footer>

<script>
  import navaid from 'navaid';
  import Nav from './components/Nav.html';
  import Home from './routes/home.html';
  import Device from './routes/device.html';
  import Admin from './routes/admin.html';
  import Error from './routes/error.html';

  export default {
    data: () => ({
      route: Home,
    }),
    components: {
      Nav,
    },
    oncreate() {
      // set up routing
      const router = navaid('/', () => { this.set({ route: Error }); });

      router
        .on('/', () => { this.set({ route: Home }); })
        .on('/device/:id', (params) => { console.log('@@ NAV PARAMS', params); this.set({ route: Device }); })
        .on('/admin', () => { this.set({ route: Admin }); })
        .listen();
    },
  };
</script>
