<svelte:head>
  <title>{name} | Home Control</title>
</svelte:head>

<button class="button" type="button" on:click="toggle()">TOGGLE</button>
<button class="button" type="button" on:click="command()">COMMAND</button>
<button class="button red3" type="button" on:click="red()">RED</button>
<button class="button blue3" type="button" on:click="blue()">BLUE</button>
<button class="button" type="button" on:click="dim()">DIM</button>
<button class="button" type="button" on:click="bright()">BRIGHT</button>

<script>
  export default {
    data: () => ({}),
    methods: {
      async toggle() {
        const res = await fetch('/api/toggle');
        if (!res.ok) throw new Error(res.statusText);
      },
      async command() {
        const res = await fetch('/api/command');
        if (!res.ok) throw new Error(res.statusText);
      },
      async red() {
        const res = await fetch('/api/red');
        if (!res.ok) throw new Error(res.statusText);
      },
      async blue() {
        const res = await fetch('/api/blue');
        if (!res.ok) throw new Error(res.statusText);
      },
      async dim() {
        const res = await fetch('/api/dim');
        if (!res.ok) throw new Error(res.statusText);
      },
      async bright() {
        const res = await fetch('/api/bright');
        if (!res.ok) throw new Error(res.statusText);
      },
    },
  };
</script>
